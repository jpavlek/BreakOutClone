#include "Timer.h"
#include <SDL.h>

const int Timer::FPS = 120;
const int Timer::DELAY_TIME = (int) (1000.0f / FPS);
//-------------------------------------------------------------------------------------------
Timer::Timer()
:	frameStart_(0),
	frameEnd_(0),
	frameTime_(0)
{
}
//-------------------------------------------------------------------------------------------
Timer::~Timer()
{
}
//-------------------------------------------------------------------------------------------
void
Timer::markFrameStart()
{
	frameStart_ = SDL_GetTicks();
}
//-------------------------------------------------------------------------------------------
void
Timer::markFrameEnd()
{
	frameEnd_ = SDL_GetTicks();
}
//-------------------------------------------------------------------------------------------
void
Timer::calculateFrameTime()
{
	frameTime_ = frameEnd_ - frameStart_;
}
//-------------------------------------------------------------------------------------------
void
Timer::delayToFrameRate()
{
	if (frameTime_< DELAY_TIME) {
		SDL_Delay( (int)(DELAY_TIME - frameTime_) );
	}
}
//-------------------------------------------------------------------------------------------
void 
Timer::adjustToFrameRate()
{
	markFrameEnd();
	calculateFrameTime();
	delayToFrameRate();
}
//-------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------
